import React from "react";
import { Typography, makeStyles, Link } from '@material-ui/core';
import { useProjectListState } from "../../context/projectsContext";
import { convertToReadableDate } from '../../utils/dateUtils';
import ProjectImage from '../../icons/project_image.jpg';
import { palette } from '../../data/palette';

const useStyles = makeStyles({
    root: {
        height: '100%'
    },
    header: {
        display: 'flex'
    },
    projectsContainer: {
        width: '100%',
        backgroundColor: '#F5F5F5',
        height: '90%',
        borderRadius: '20px',
        marginTop: 16,
        padding: 16,
        display: 'flex'
    },
    myProjectsText: {
        fontFamily: 'Montserrat',
        fontWeight: 600,
        fontSize: 24
    },
    projectContainer: {
        marginRight: 16,
        padding: 16
    },
    projectImage: {
        width: 200,
        borderRadius: 10,
        marginBottom: 8
    },
    projectTitleText: {
        fontFamily: 'Montserrat',
        fontWeight: 600,
        fontSize: 22,
        '&:hover': {
            textDecoration: 'underline'
        }
    },
    projectCreatedDateText: {
        fontFamily: 'Montserrat',
        fontSize: 12
    },
    descriptionTitle: {
        fontFamily: 'Montserrat',
        fontWeight: 700,
        fontSize: 16,
        marginTop: 6

    },
    descriptionText: {
        fontFamily: 'Montserrat',
        fontSize: 15
    },
    newProjectButton: {
        backgroundColor: palette.primaryColour,
        display: 'flex',
        fontSize: 16,
        fontFamily: 'Montserrat',
        padding: '7px 9px 0px 0px',
        borderRadius: '10px',
        color: 'white',
        fontWeight: 600,
        height: 34,
        marginLeft: 16,
        border: 'none',
        outline: 'none'
    }
})

export default function ProjectsContainer() {

    let classes = useStyles();
    let projects = useProjectListState();

    return (
        <div className={classes.root}>
            <div className={classes.header}>
                <Typography className={classes.myProjectsText}>My Projects</Typography>
                <button className={classes.newProjectButton}>
                    <div>
                        <svg width="40" height="40" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g filter="url(#filter0_d)">
                                <mask id="path-1-inside-1" fill="white">
                                    <path d="M7.87867 0.282349H5.19334C5.11561 0.282349 5.05201 0.346319 5.05201 0.424505V3.12549C5.05201 3.20367 5.11561 3.26764 5.19334 3.26764H7.87867C7.95641 3.26764 8.02001 3.20367 8.02001 3.12549V0.424505C8.02001 0.346319 7.95641 0.282349 7.87867 0.282349ZM7.41934 2.66348H5.65267V0.886515H7.41934V2.66348ZM11.412 0.282349H8.72667C8.64894 0.282349 8.58534 0.346319 8.58534 0.424505V3.12549C8.58534 3.20367 8.64894 3.26764 8.72667 3.26764H11.412C11.4897 3.26764 11.5533 3.20367 11.5533 3.12549V0.424505C11.5533 0.346319 11.4897 0.282349 11.412 0.282349ZM10.9527 2.66348H9.18601V0.886515H10.9527V2.66348ZM11.412 3.83627H8.72667C8.64894 3.83627 8.58534 3.90024 8.58534 3.97843V6.67941C8.58534 6.75759 8.64894 6.82156 8.72667 6.82156H11.412C11.4897 6.82156 11.5533 6.75759 11.5533 6.67941V3.97843C11.5533 3.90024 11.4897 3.83627 11.412 3.83627ZM10.9527 6.2174H9.18601V4.44044H10.9527V6.2174ZM7.52534 5.32892H6.39467V4.19166C6.39467 4.15257 6.36287 4.12058 6.32401 4.12058H5.90001C5.86114 4.12058 5.82934 4.15257 5.82934 4.19166V5.32892H4.69867C4.65981 5.32892 4.62801 5.3609 4.62801 5.4V5.82647C4.62801 5.86556 4.65981 5.89754 4.69867 5.89754H5.82934V7.0348C5.82934 7.07389 5.86114 7.10588 5.90001 7.10588H6.32401C6.36287 7.10588 6.39467 7.07389 6.39467 7.0348V5.89754H7.52534C7.56421 5.89754 7.59601 5.86556 7.59601 5.82647V5.4C7.59601 5.3609 7.56421 5.32892 7.52534 5.32892Z" />
                                </mask>
                                <path d="M7.87867 0.282349H5.19334C5.11561 0.282349 5.05201 0.346319 5.05201 0.424505V3.12549C5.05201 3.20367 5.11561 3.26764 5.19334 3.26764H7.87867C7.95641 3.26764 8.02001 3.20367 8.02001 3.12549V0.424505C8.02001 0.346319 7.95641 0.282349 7.87867 0.282349ZM7.41934 2.66348H5.65267V0.886515H7.41934V2.66348ZM11.412 0.282349H8.72667C8.64894 0.282349 8.58534 0.346319 8.58534 0.424505V3.12549C8.58534 3.20367 8.64894 3.26764 8.72667 3.26764H11.412C11.4897 3.26764 11.5533 3.20367 11.5533 3.12549V0.424505C11.5533 0.346319 11.4897 0.282349 11.412 0.282349ZM10.9527 2.66348H9.18601V0.886515H10.9527V2.66348ZM11.412 3.83627H8.72667C8.64894 3.83627 8.58534 3.90024 8.58534 3.97843V6.67941C8.58534 6.75759 8.64894 6.82156 8.72667 6.82156H11.412C11.4897 6.82156 11.5533 6.75759 11.5533 6.67941V3.97843C11.5533 3.90024 11.4897 3.83627 11.412 3.83627ZM10.9527 6.2174H9.18601V4.44044H10.9527V6.2174ZM7.52534 5.32892H6.39467V4.19166C6.39467 4.15257 6.36287 4.12058 6.32401 4.12058H5.90001C5.86114 4.12058 5.82934 4.15257 5.82934 4.19166V5.32892H4.69867C4.65981 5.32892 4.62801 5.3609 4.62801 5.4V5.82647C4.62801 5.86556 4.65981 5.89754 4.69867 5.89754H5.82934V7.0348C5.82934 7.07389 5.86114 7.10588 5.90001 7.10588H6.32401C6.36287 7.10588 6.39467 7.07389 6.39467 7.0348V5.89754H7.52534C7.56421 5.89754 7.59601 5.86556 7.59601 5.82647V5.4C7.59601 5.3609 7.56421 5.32892 7.52534 5.32892Z" fill="white" />
                                <path d="M7.41934 2.66348V3.66348H8.41934V2.66348H7.41934ZM5.65267 2.66348H4.65267V3.66348H5.65267V2.66348ZM5.65267 0.886515V-0.113485H4.65267V0.886515H5.65267ZM7.41934 0.886515H8.41934V-0.113485H7.41934V0.886515ZM10.9527 2.66348V3.66348H11.9527V2.66348H10.9527ZM9.18601 2.66348H8.18601V3.66348H9.18601V2.66348ZM9.18601 0.886515V-0.113485H8.18601V0.886515H9.18601ZM10.9527 0.886515H11.9527V-0.113485H10.9527V0.886515ZM10.9527 6.2174V7.2174H11.9527V6.2174H10.9527ZM9.18601 6.2174H8.18601V7.2174H9.18601V6.2174ZM9.18601 4.44044V3.44044H8.18601V4.44044H9.18601ZM10.9527 4.44044H11.9527V3.44044H10.9527V4.44044ZM6.39467 5.32892H5.39467V6.32892H6.39467V5.32892ZM5.82934 5.32892V6.32892H6.82934V5.32892H5.82934ZM5.82934 5.89754H6.82934V4.89754H5.82934V5.89754ZM6.39467 5.89754V4.89754H5.39467V5.89754H6.39467ZM7.87867 -0.717651H5.19334V1.28235H7.87867V-0.717651ZM5.19334 -0.717651C4.55785 -0.717651 4.05201 -0.20048 4.05201 0.424505H6.05201C6.05201 0.893119 5.67336 1.28235 5.19334 1.28235V-0.717651ZM4.05201 0.424505V3.12549H6.05201V0.424505H4.05201ZM4.05201 3.12549C4.05201 3.75047 4.55785 4.26764 5.19334 4.26764V2.26764C5.67336 2.26764 6.05201 2.65687 6.05201 3.12549H4.05201ZM5.19334 4.26764H7.87867V2.26764H5.19334V4.26764ZM7.87867 4.26764C8.51416 4.26764 9.02001 3.75047 9.02001 3.12549H7.02001C7.02001 2.65687 7.39865 2.26764 7.87867 2.26764V4.26764ZM9.02001 3.12549V0.424505H7.02001V3.12549H9.02001ZM9.02001 0.424505C9.02001 -0.20048 8.51416 -0.717651 7.87867 -0.717651V1.28235C7.39865 1.28235 7.02001 0.893119 7.02001 0.424505H9.02001ZM7.41934 1.66348H5.65267V3.66348H7.41934V1.66348ZM6.65267 2.66348V0.886515H4.65267V2.66348H6.65267ZM5.65267 1.88652H7.41934V-0.113485H5.65267V1.88652ZM6.41934 0.886515V2.66348H8.41934V0.886515H6.41934ZM11.412 -0.717651H8.72667V1.28235H11.412V-0.717651ZM8.72667 -0.717651C8.09119 -0.717651 7.58534 -0.20048 7.58534 0.424505H9.58534C9.58534 0.893119 9.20669 1.28235 8.72667 1.28235V-0.717651ZM7.58534 0.424505V3.12549H9.58534V0.424505H7.58534ZM7.58534 3.12549C7.58534 3.75047 8.09119 4.26764 8.72667 4.26764V2.26764C9.20669 2.26764 9.58534 2.65687 9.58534 3.12549H7.58534ZM8.72667 4.26764H11.412V2.26764H8.72667V4.26764ZM11.412 4.26764C12.0475 4.26764 12.5533 3.75047 12.5533 3.12549H10.5533C10.5533 2.65687 10.932 2.26764 11.412 2.26764V4.26764ZM12.5533 3.12549V0.424505H10.5533V3.12549H12.5533ZM12.5533 0.424505C12.5533 -0.20048 12.0475 -0.717651 11.412 -0.717651V1.28235C10.932 1.28235 10.5533 0.893119 10.5533 0.424505H12.5533ZM10.9527 1.66348H9.18601V3.66348H10.9527V1.66348ZM10.186 2.66348V0.886515H8.18601V2.66348H10.186ZM9.18601 1.88652H10.9527V-0.113485H9.18601V1.88652ZM9.95267 0.886515V2.66348H11.9527V0.886515H9.95267ZM11.412 2.83627H8.72667V4.83627H11.412V2.83627ZM8.72667 2.83627C8.09119 2.83627 7.58534 3.35344 7.58534 3.97843H9.58534C9.58534 4.44704 9.20669 4.83627 8.72667 4.83627V2.83627ZM7.58534 3.97843V6.67941H9.58534V3.97843H7.58534ZM7.58534 6.67941C7.58534 7.30439 8.09119 7.82156 8.72667 7.82156V5.82156C9.20669 5.82156 9.58534 6.21079 9.58534 6.67941H7.58534ZM8.72667 7.82156H11.412V5.82156H8.72667V7.82156ZM11.412 7.82156C12.0475 7.82156 12.5533 7.30439 12.5533 6.67941H10.5533C10.5533 6.21079 10.932 5.82156 11.412 5.82156V7.82156ZM12.5533 6.67941V3.97843H10.5533V6.67941H12.5533ZM12.5533 3.97843C12.5533 3.35344 12.0475 2.83627 11.412 2.83627V4.83627C10.932 4.83627 10.5533 4.44704 10.5533 3.97843H12.5533ZM10.9527 5.2174H9.18601V7.2174H10.9527V5.2174ZM10.186 6.2174V4.44044H8.18601V6.2174H10.186ZM9.18601 5.44044H10.9527V3.44044H9.18601V5.44044ZM9.95267 4.44044V6.2174H11.9527V4.44044H9.95267ZM7.52534 4.32892H6.39467V6.32892H7.52534V4.32892ZM7.39467 5.32892V4.19166H5.39467V5.32892H7.39467ZM7.39467 4.19166C7.39467 3.60577 6.92063 3.12058 6.32401 3.12058V5.12058C5.80512 5.12058 5.39467 4.69937 5.39467 4.19166H7.39467ZM6.32401 3.12058H5.90001V5.12058H6.32401V3.12058ZM5.90001 3.12058C5.30339 3.12058 4.82934 3.60577 4.82934 4.19166H6.82934C6.82934 4.69937 6.41889 5.12058 5.90001 5.12058V3.12058ZM4.82934 4.19166V5.32892H6.82934V4.19166H4.82934ZM5.82934 4.32892H4.69867V6.32892H5.82934V4.32892ZM4.69867 4.32892C4.10205 4.32892 3.62801 4.8141 3.62801 5.4H5.62801C5.62801 5.9077 5.21756 6.32892 4.69867 6.32892V4.32892ZM3.62801 5.4V5.82647H5.62801V5.4H3.62801ZM3.62801 5.82647C3.62801 6.41236 4.10205 6.89754 4.69867 6.89754V4.89754C5.21756 4.89754 5.62801 5.31876 5.62801 5.82647H3.62801ZM4.69867 6.89754H5.82934V4.89754H4.69867V6.89754ZM4.82934 5.89754V7.0348H6.82934V5.89754H4.82934ZM4.82934 7.0348C4.82934 7.62069 5.30339 8.10588 5.90001 8.10588V6.10588C6.41889 6.10588 6.82934 6.52709 6.82934 7.0348H4.82934ZM5.90001 8.10588H6.32401V6.10588H5.90001V8.10588ZM6.32401 8.10588C6.92063 8.10588 7.39467 7.62069 7.39467 7.0348H5.39467C5.39467 6.52709 5.80512 6.10588 6.32401 6.10588V8.10588ZM7.39467 7.0348V5.89754H5.39467V7.0348H7.39467ZM6.39467 6.89754H7.52534V4.89754H6.39467V6.89754ZM7.52534 6.89754C8.12196 6.89754 8.59601 6.41236 8.59601 5.82647H6.59601C6.59601 5.31876 7.00645 4.89754 7.52534 4.89754V6.89754ZM8.59601 5.82647V5.4H6.59601V5.82647H8.59601ZM8.59601 5.4C8.59601 4.8141 8.12196 4.32892 7.52534 4.32892V6.32892C7.00645 6.32892 6.59601 5.9077 6.59601 5.4H8.59601Z" fill="white" mask="url(#path-1-inside-1)" />
                            </g>
                            <defs>
                                <filter id="filter0_d" x="0.628006" y="0.282349" width="14.9253" height="14.8235" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                    <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                    <feOffset dy="4" />
                                    <feGaussianBlur stdDeviation="2" />
                                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
                                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                                </filter>
                            </defs>
                        </svg>
                    </div>
                    NEW</button>
            </div>
            <div className={classes.projectsContainer}>
                {projects && projects.map(project => (
                    <div className={classes.projectContainer}>
                        <img className={classes.projectImage} src={ProjectImage} alt='project image default' />
                        <Typography className={classes.projectTitleText}>
                            <Link href={`/project/${project._id}`}>
                                {project.name}
                            </Link>
                        </Typography>
                        <Typography className={classes.projectCreatedDateText}>Created {convertToReadableDate(project.createdDateTime)}</Typography>
                        <Typography className={classes.descriptionTitle}>Description</Typography>
                        <Typography className={classes.descriptionText}>{project.description}</Typography>
                    </div>
                ))}
            </div>
        </div >
    )
}