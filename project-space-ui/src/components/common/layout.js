import React, { useState } from 'react';
import { makeStyles, IconButton } from '@material-ui/core';
import SearchIcon from '@material-ui/icons/Search';
import AddIcon from '@material-ui/icons/Add';
import { NewProjectProvider } from '../../context/projectsContext';
import CreateProjectContainer from '../projects/createProjectContainer';
import { palette } from '../../data/palette'

const useStyles = makeStyles({
    root: {
        display: 'flex',
        justifyContent: 'center',
        height: '100vh'
    },
    content: {
        display: 'flex',
        width: '1600px'
    },
    body: {
        marginTop: 16,
        height: '100%'
    },
    main: {
        width: '100%',
        padding: 24
    },
    header: {
        width: '100%',
        display: 'flex',
        justifyContent: 'flex-end',
        alignItems: 'center'
    },
    sideBarContainer: {
        width: '100px',
        background: palette.primaryColour,
        display: 'flex',
        justifyContent: 'center',
        height: '100%'
    },
    buttonsContainer: {
        height: '35%',
        alignItems: 'center',
        display: 'flex',
        flexDirection: 'column',
        justifyContent: 'space-evenly'
    },
    homeButtonContainer: {
        backgroundColor: palette.activeButton,
        borderRadius: '50%',
        height: 70,
        width: 70,
        display: 'flex',
        justifyContent: 'center',

    },
    buttonContainer: {
        height: 50,
        width: 50,
        backgroundColor: palette.secondaryButton,
        borderRadius: '50%',
        marginBottom: 24,
        display: 'flex',
        justifyContent: 'center',
        alignItems: 'center'
    },
    notesIcon: {
        marginLeft: 8
    },
    createButtonContainer: {
        height: 45,
        width: 45,
        backgroundColor: palette.primaryButton,
        borderRadius: '50%',
        display: 'flex',
        justifyContent: 'center',
        marginLeft: 16
    },
    createIcon: {
        color: 'white'
    },
    avatarIconContainer: {
        marginLeft: 16
    },
    searchTextfield: {
        border: 'solid thin',
        borderRadius: 20,
        width: 200,
        padding: '8px 0px 8px 16px',
        display: 'flex',
        alignItems: 'center'
    },
    searchInputField: {
        marginLeft: 8,
        outline: 'none',
        border: 'none'
    },

})

/**
 * Renders the application side bar and header.
 * @param  children 
 */
export default function Layout(props) {

    let classes = useStyles();
    let [modalOpen, setModalOpen] = useState(false);

    return (
        <div className={classes.root}>
            <div className={classes.content}>
                {/* <----------------------- SIDEBAR -------------------> */}
                <div className={classes.sideBarContainer}>
                    <div className={classes.buttonsContainer}>
                        <div className={classes.homeButtonContainer}>
                            <IconButton size='small'>
                                <svg width="35" height="35" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.35714C0 3.93634 0.564412 2.57373 1.56907 1.56907C2.57373 0.564412 3.93634 0 5.35714 0H16.0714C17.4922 0 18.8548 0.564412 19.8595 1.56907C20.8642 2.57373 21.4286 3.93634 21.4286 5.35714V16.0714C21.4286 17.4922 20.8642 18.8548 19.8595 19.8595C18.8548 20.8642 17.4922 21.4286 16.0714 21.4286H5.35714C3.93634 21.4286 2.57373 20.8642 1.56907 19.8595C0.564412 18.8548 0 17.4922 0 16.0714V5.35714ZM5.35714 3.57143C4.88354 3.57143 4.42934 3.75957 4.09445 4.09445C3.75957 4.42934 3.57143 4.88354 3.57143 5.35714V16.0714C3.57143 16.545 3.75957 16.9992 4.09445 17.3341C4.42934 17.669 4.88354 17.8571 5.35714 17.8571H16.0714C16.545 17.8571 16.9992 17.669 17.3341 17.3341C17.669 16.9992 17.8571 16.545 17.8571 16.0714V5.35714C17.8571 4.88354 17.669 4.42934 17.3341 4.09445C16.9992 3.75957 16.545 3.57143 16.0714 3.57143H5.35714ZM28.5714 5.35714C28.5714 3.93634 29.1358 2.57373 30.1405 1.56907C31.1452 0.564412 32.5078 0 33.9286 0H44.6429C46.0637 0 47.4263 0.564412 48.4309 1.56907C49.4356 2.57373 50 3.93634 50 5.35714V16.0714C50 17.4922 49.4356 18.8548 48.4309 19.8595C47.4263 20.8642 46.0637 21.4286 44.6429 21.4286H33.9286C32.5078 21.4286 31.1452 20.8642 30.1405 19.8595C29.1358 18.8548 28.5714 17.4922 28.5714 16.0714V5.35714ZM33.9286 3.57143C33.455 3.57143 33.0008 3.75957 32.6659 4.09445C32.331 4.42934 32.1429 4.88354 32.1429 5.35714V16.0714C32.1429 16.545 32.331 16.9992 32.6659 17.3341C33.0008 17.669 33.455 17.8571 33.9286 17.8571H44.6429C45.1165 17.8571 45.5707 17.669 45.9055 17.3341C46.2404 16.9992 46.4286 16.545 46.4286 16.0714V5.35714C46.4286 4.88354 46.2404 4.42934 45.9055 4.09445C45.5707 3.75957 45.1165 3.57143 44.6429 3.57143H33.9286ZM0 33.9286C0 32.5078 0.564412 31.1452 1.56907 30.1405C2.57373 29.1358 3.93634 28.5714 5.35714 28.5714H16.0714C17.4922 28.5714 18.8548 29.1358 19.8595 30.1405C20.8642 31.1452 21.4286 32.5078 21.4286 33.9286V44.6429C21.4286 46.0637 20.8642 47.4263 19.8595 48.4309C18.8548 49.4356 17.4922 50 16.0714 50H5.35714C3.93634 50 2.57373 49.4356 1.56907 48.4309C0.564412 47.4263 0 46.0637 0 44.6429V33.9286ZM5.35714 32.1429C4.88354 32.1429 4.42934 32.331 4.09445 32.6659C3.75957 33.0008 3.57143 33.455 3.57143 33.9286V44.6429C3.57143 45.1165 3.75957 45.5707 4.09445 45.9055C4.42934 46.2404 4.88354 46.4286 5.35714 46.4286H16.0714C16.545 46.4286 16.9992 46.2404 17.3341 45.9055C17.669 45.5707 17.8571 45.1165 17.8571 44.6429V33.9286C17.8571 33.455 17.669 33.0008 17.3341 32.6659C16.9992 32.331 16.545 32.1429 16.0714 32.1429H5.35714ZM28.5714 33.9286C28.5714 32.5078 29.1358 31.1452 30.1405 30.1405C31.1452 29.1358 32.5078 28.5714 33.9286 28.5714H44.6429C46.0637 28.5714 47.4263 29.1358 48.4309 30.1405C49.4356 31.1452 50 32.5078 50 33.9286V44.6429C50 46.0637 49.4356 47.4263 48.4309 48.4309C47.4263 49.4356 46.0637 50 44.6429 50H33.9286C32.5078 50 31.1452 49.4356 30.1405 48.4309C29.1358 47.4263 28.5714 46.0637 28.5714 44.6429V33.9286ZM33.9286 32.1429C33.455 32.1429 33.0008 32.331 32.6659 32.6659C32.331 33.0008 32.1429 33.455 32.1429 33.9286V44.6429C32.1429 45.1165 32.331 45.5707 32.6659 45.9055C33.0008 46.2404 33.455 46.4286 33.9286 46.4286H44.6429C45.1165 46.4286 45.5707 46.2404 45.9055 45.9055C46.2404 45.5707 46.4286 45.1165 46.4286 44.6429V33.9286C46.4286 33.455 46.2404 33.0008 45.9055 32.6659C45.5707 32.331 45.1165 32.1429 44.6429 32.1429H33.9286Z" fill="black" />
                                </svg>
                            </IconButton>
                        </div>
                        <div className={classes.buttonContainer}>
                            <IconButton size='small'>
                                <svg width="35" height="35" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M5 1.5H9.375V2.125H5V1.5Z" fill="black" />
                                    <path d="M5 5.875H9.375V6.5H5V5.875Z" fill="black" />
                                    <path d="M3.125 3.375H1.25C1.08429 3.37483 0.925415 3.30893 0.808241 3.19176C0.691067 3.07458 0.625165 2.91571 0.625 2.75V0.875C0.625165 0.70929 0.691067 0.550415 0.808241 0.433241C0.925415 0.316067 1.08429 0.250165 1.25 0.25H3.125C3.29071 0.250165 3.44958 0.316067 3.56676 0.433241C3.68393 0.550415 3.74983 0.70929 3.75 0.875V2.75C3.74983 2.91571 3.68393 3.07458 3.56676 3.19176C3.44958 3.30893 3.29071 3.37483 3.125 3.375ZM1.25 0.875V2.75H3.12531L3.125 0.875H1.25Z" fill="black" />
                                    <path d="M3.125 7.75H1.25C1.08429 7.74983 0.925415 7.68393 0.808241 7.56676C0.691067 7.44958 0.625165 7.29071 0.625 7.125V5.25C0.625165 5.08429 0.691067 4.92542 0.808241 4.80824C0.925415 4.69107 1.08429 4.62517 1.25 4.625H3.125C3.29071 4.62517 3.44958 4.69107 3.56676 4.80824C3.68393 4.92542 3.74983 5.08429 3.75 5.25V7.125C3.74983 7.29071 3.68393 7.44958 3.56676 7.56676C3.44958 7.68393 3.29071 7.74983 3.125 7.75ZM1.25 5.25V7.125H3.12531L3.125 5.25H1.25Z" fill="black" />
                                </svg>
                            </IconButton>
                        </div>
                        <div className={classes.buttonContainer}>
                            <IconButton size='small'>
                                <div className={classes.notesIcon}>
                                    <svg width="35" height="35" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M7.26297 7.37561H0.605247V1.58114H4.60593L5.21118 1.05437H0.605247C0.444726 1.05437 0.290779 1.10987 0.177273 1.20865C0.0637669 1.30744 0 1.44143 0 1.58114V7.37561C0 7.51532 0.0637669 7.6493 0.177273 7.74809C0.290779 7.84688 0.444726 7.90238 0.605247 7.90238H7.26297C7.42349 7.90238 7.57743 7.84688 7.69094 7.74809C7.80444 7.6493 7.86821 7.51532 7.86821 7.37561V3.42483L7.26297 3.9516V7.37561Z" fill="black" />
                                        <path d="M8.93642 1.01222L7.91658 0.124612C7.87132 0.0851126 7.81755 0.0537733 7.75835 0.0323901C7.69915 0.0110069 7.63568 0 7.57159 0C7.50749 0 7.44403 0.0110069 7.38483 0.0323901C7.32563 0.0537733 7.27186 0.0851126 7.2266 0.124612L3.07763 3.75669L2.74172 5.02358C2.72741 5.08499 2.72891 5.1484 2.74612 5.20924C2.76333 5.27008 2.79582 5.32685 2.84126 5.37546C2.88669 5.42407 2.94394 5.46331 3.00888 5.49036C3.07382 5.51741 3.14484 5.5316 3.21684 5.53191C3.25405 5.53548 3.2916 5.53548 3.32881 5.53191L4.79653 5.25009L8.93642 1.61274C8.9818 1.57335 9.01781 1.52655 9.04238 1.47502C9.06695 1.4235 9.0796 1.36826 9.0796 1.31248C9.0796 1.25669 9.06695 1.20146 9.04238 1.14993C9.01781 1.09841 8.9818 1.05161 8.93642 1.01222ZM4.4818 4.76283L3.3742 4.97617L3.63143 4.02008L6.7545 1.28351L7.6079 2.02625L4.4818 4.76283ZM7.94987 1.72863L7.09647 0.985882L7.56554 0.569733L8.42499 1.31775L7.94987 1.72863Z" fill="black" />
                                    </svg>
                                </div>
                            </IconButton>
                        </div>
                        <div className={classes.buttonContainer}>
                            <IconButton size='small'>
                                <svg width="35" height="35" viewBox="0 0 11 5" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M3.85813 0H2.16182C1.58847 8.67512e-09 1.0386 0.231269 0.633183 0.642931C0.227763 1.05459 0 1.61293 0 2.1951C0 2.77728 0.227763 3.33561 0.633183 3.74728C1.0386 4.15894 1.58847 4.39021 2.16182 4.39021H4.32364C4.66959 4.39039 5.01052 4.30627 5.31781 4.14491C5.6251 3.98356 5.88976 3.74968 6.08957 3.46292C6.28937 3.17616 6.41848 2.8449 6.46606 2.49696C6.51363 2.14903 6.47827 1.79458 6.36296 1.4634H5.76485C5.70288 1.4634 5.64235 1.47072 5.5847 1.48609C5.70623 1.70889 5.76839 1.96005 5.76503 2.21472C5.76166 2.4694 5.6929 2.71877 5.56553 2.93819C5.43816 3.15761 5.2566 3.33947 5.03879 3.46581C4.82098 3.59214 4.57448 3.65856 4.32364 3.65851H2.16182C1.77959 3.65851 1.41301 3.50433 1.14273 3.22988C0.872449 2.95544 0.720607 2.58322 0.720607 2.1951C0.720607 1.80699 0.872449 1.43476 1.14273 1.16032C1.41301 0.885881 1.77959 0.731701 2.16182 0.731701H3.26795C3.42504 0.456582 3.62465 0.209267 3.85885 0H3.85813Z" fill="black" />
                                    <path d="M5.76485 3.01813e-07C5.41891 -0.000183884 5.07797 0.0839359 4.77068 0.245293C4.4634 0.40665 4.19873 0.640531 3.99893 0.92729C3.79912 1.21405 3.67001 1.54531 3.62244 1.89324C3.57486 2.24118 3.61022 2.59562 3.72554 2.9268H4.51676C4.39027 2.70434 4.32368 2.45199 4.32368 2.19511C4.32367 1.93824 4.39026 1.68588 4.51675 1.46342C4.64324 1.24095 4.82517 1.05622 5.04426 0.927774C5.26335 0.799331 5.51187 0.731708 5.76485 0.731701H7.92667C8.30891 0.731701 8.67549 0.885881 8.94577 1.16032C9.21604 1.43476 9.36789 1.80699 9.36789 2.1951C9.36789 2.58322 9.21604 2.95544 8.94577 3.22989C8.67549 3.50433 8.30891 3.65851 7.92667 3.65851H6.82054C6.66376 3.93319 6.46421 4.18028 6.22964 4.39021H7.92667C8.21057 4.39021 8.49168 4.33343 8.75397 4.22311C9.01625 4.1128 9.25457 3.95111 9.45531 3.74728C9.65605 3.54344 9.81529 3.30146 9.92394 3.03513C10.0326 2.76881 10.0885 2.48337 10.0885 2.1951C10.0885 1.90684 10.0326 1.6214 9.92394 1.35507C9.81529 1.08875 9.65605 0.846765 9.45531 0.642931C9.25457 0.439097 9.01625 0.277407 8.75397 0.167093C8.49168 0.0567785 8.21057 2.97518e-07 7.92667 3.01813e-07H5.76485Z" fill="black" />
                                </svg>
                            </IconButton>
                        </div>
                    </div>
                </div >

                {/* <---------------- MAIN BODY -------------------> */}
                <div className={classes.main}>
                    {/*  <------------- HEADER -------------> */}
                    <div className={classes.header}>
                        <div className={classes.searchTextfield} >
                            <SearchIcon />
                            <input className={classes.searchInputField} />
                        </div>
                        <div className={classes.avatarIconContainer}>
                            <svg width="40" height="40" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M13.468 12.37C12.758 11.226 11.195 10 8.00001 10C4.80501 10 3.24301 11.225 2.53201 12.37C3.1871 13.1912 4.01893 13.8542 4.96562 14.3095C5.91232 14.7649 6.9495 15.0009 8.00001 15C9.05052 15.0009 10.0877 14.7649 11.0344 14.3095C11.9811 13.8542 12.8129 13.1912 13.468 12.37Z" fill="#4F4F4F" />
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M8 9C8.79565 9 9.55871 8.68393 10.1213 8.12132C10.6839 7.55871 11 6.79565 11 6C11 5.20435 10.6839 4.44129 10.1213 3.87868C9.55871 3.31607 8.79565 3 8 3C7.20435 3 6.44129 3.31607 5.87868 3.87868C5.31607 4.44129 5 5.20435 5 6C5 6.79565 5.31607 7.55871 5.87868 8.12132C6.44129 8.68393 7.20435 9 8 9Z" fill="#4F4F4F" />
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M8 1C6.14348 1 4.36301 1.7375 3.05025 3.05025C1.7375 4.36301 1 6.14348 1 8C1 9.85652 1.7375 11.637 3.05025 12.9497C4.36301 14.2625 6.14348 15 8 15C9.85652 15 11.637 14.2625 12.9497 12.9497C14.2625 11.637 15 9.85652 15 8C15 6.14348 14.2625 4.36301 12.9497 3.05025C11.637 1.7375 9.85652 1 8 1ZM0 8C0 5.87827 0.842855 3.84344 2.34315 2.34315C3.84344 0.842855 5.87827 0 8 0C10.1217 0 12.1566 0.842855 13.6569 2.34315C15.1571 3.84344 16 5.87827 16 8C16 10.1217 15.1571 12.1566 13.6569 13.6569C12.1566 15.1571 10.1217 16 8 16C5.87827 16 3.84344 15.1571 2.34315 13.6569C0.842855 12.1566 0 10.1217 0 8Z" fill="#4F4F4F" />
                            </svg>
                        </div>
                        <div className={classes.createButtonContainer}>
                            <IconButton onClick={() => setModalOpen(true)}>
                                <AddIcon className={classes.createIcon} fontSize='large' />
                            </IconButton>
                        </div>
                        <NewProjectProvider>
                            <CreateProjectContainer
                                open={modalOpen}
                                onClose={() => setModalOpen(false)} />
                        </NewProjectProvider>
                    </div>
                    {/* <----------------- BODY ------------> */}
                    <div className={classes.body}>
                        {props.children}
                    </div>
                </div>
            </div>
        </div>
    )
}